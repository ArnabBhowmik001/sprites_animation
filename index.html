<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="main.js"></script>
</head>
<body>
    <canvas>
    </canvas>
    <script>
         var canvas = document.querySelector('canvas');
        var c = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        var bg=[];
        var zombie=new zombieAnimator(20,900,550,150,150,'./images/1_enemies_1_idle_0',true);

       var king=new kingAnimator(10,640,500,200,200,'./images/Attack ');
        bg[0]=new BackGround(0);
        for(var i=1;i<1000;i++){
            bg[i]=new BackGround(canvas.width);
        }
        function draw(elapsed,ctx){
            ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);
             bg[0].draw(ctx);
             bg.forEach(element => {
               element.draw(ctx);
             });
              zombie.draw(elapsed,ctx);
              king.draw(elapsed,ctx)
        }
        function update(elapsed){
          // bg[0].x-=2;
          // for(var i=0;i<1000;i++){
           
          //   if(bg[i].x<0){
          //       bg[i+1].x-=2;
          //   }
          // }
        }
        var then=Date.now();
        var now=0;
        var elapsed=0;
        function loop(){
             now=Date.now();
             elapsed=now-then;   
             then=now;
                update(elapsed);
                draw(elapsed,c);
            window.requestAnimationFrame(loop);
        }
        window.requestAnimationFrame(loop);
    </script>
</body>
</html>